const $=t=>typeof t=="object"&&t!=null&&t.nodeType===1,tt=(t,n)=>(!n||t!=="hidden")&&t!=="visible"&&t!=="clip",L=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const i=getComputedStyle(t,null);return tt(i.overflowY,n)||tt(i.overflowX,n)||(d=>{const r=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch{return null}})(d);return!!r&&(r.clientHeight<d.scrollHeight||r.clientWidth<d.scrollWidth)})(t)}return!1},V=(t,n,i,d,r,e,f,l)=>e<t&&f>n||e>t&&f<n?0:e<=t&&l<=i||f>=n&&l>=i?e-t-d:f>n&&l<i||e<t&&l>i?f-n+r:0,rt=t=>t.parentElement??(t.getRootNode().host||null),et=(t,n)=>{var i,d,r,e;if(typeof document>"u")return[];const{scrollMode:f,block:l,inline:h,boundary:D,skipOverflowHiddenElements:ot}=n,nt=typeof D=="function"?D:g=>g!==D;if(!$(t))throw new TypeError("Invalid target");const O=document.scrollingElement||document.documentElement,M=[];let s=t;for(;$(s)&&nt(s);){if(s=rt(s),s===O){M.push(s);break}s!=null&&s===document.body&&L(s)&&!L(document.documentElement)||s!=null&&L(s,ot)&&M.push(s)}const m=(d=(i=window.visualViewport)==null?void 0:i.width)!=null?d:innerWidth,b=(e=(r=window.visualViewport)==null?void 0:r.height)!=null?e:innerHeight,{scrollX:w,scrollY:y}=window,{height:W,width:v,top:H,right:X,bottom:Y,left:F}=t.getBoundingClientRect(),{top:K,right:P,bottom:Q,left:U}=(g=>{const o=window.getComputedStyle(g);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);let a=l==="start"||l==="nearest"?H-K:l==="end"?Y+Q:H+W/2-K+Q,c=h==="center"?F+v/2-U+P:h==="end"?X+P:F-U;const q=[];for(let g=0;g<M.length;g++){const o=M[g],{height:C,width:E,top:R,right:z,bottom:A,left:k}=o.getBoundingClientRect();if(f==="if-needed"&&H>=0&&F>=0&&Y<=b&&X<=m&&(o===O&&!L(o)||H>=R&&Y<=A&&F>=k&&X<=z))return q;const N=getComputedStyle(o),T=parseInt(N.borderLeftWidth,10),x=parseInt(N.borderTopWidth,10),B=parseInt(N.borderRightWidth,10),I=parseInt(N.borderBottomWidth,10);let u=0,p=0;const S="offsetWidth"in o?o.offsetWidth-o.clientWidth-T-B:0,j="offsetHeight"in o?o.offsetHeight-o.clientHeight-x-I:0,G="offsetWidth"in o?o.offsetWidth===0?0:E/o.offsetWidth:0,J="offsetHeight"in o?o.offsetHeight===0?0:C/o.offsetHeight:0;if(O===o)u=l==="start"?a:l==="end"?a-b:l==="nearest"?V(y,y+b,b,x,I,y+a,y+a+W,W):a-b/2,p=h==="start"?c:h==="center"?c-m/2:h==="end"?c-m:V(w,w+m,m,T,B,w+c,w+c+v,v),u=Math.max(0,u+y),p=Math.max(0,p+w);else{u=l==="start"?a-R-x:l==="end"?a-A+I+j:l==="nearest"?V(R,A,C,x,I+j,a,a+W,W):a-(R+C/2)+j/2,p=h==="start"?c-k-T:h==="center"?c-(k+E/2)+S/2:h==="end"?c-z+B+S:V(k,z,E,T,B+S,c,c+v,v);const{scrollLeft:Z,scrollTop:_}=o;u=J===0?0:Math.max(0,Math.min(_+u/J,o.scrollHeight-C/J+j)),p=G===0?0:Math.max(0,Math.min(Z+p/G,o.scrollWidth-E/G+S)),a+=_-u,c+=Z-p}q.push({el:o,top:u,left:p})}return q},lt=t=>t===!1?{block:"end",inline:"nearest"}:(n=>n===Object(n)&&Object.keys(n).length!==0)(t)?t:{block:"start",inline:"nearest"};function it(t,n){if(!t.isConnected||!(r=>{let e=r;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const i=(r=>{const e=window.getComputedStyle(r);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if((r=>typeof r=="object"&&typeof r.behavior=="function")(n))return n.behavior(et(t,n));const d=typeof n=="boolean"||n==null?void 0:n.behavior;for(const{el:r,top:e,left:f}of et(t,lt(n))){const l=e-i.top+i.bottom,h=f-i.left+i.right;r.scroll({top:l,left:h,behavior:d})}}export{it as default};
