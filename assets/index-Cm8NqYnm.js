const $=t=>typeof t=="object"&&t!=null&&t.nodeType===1,tt=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",L=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const i=getComputedStyle(t,null);return tt(i.overflowY,e)||tt(i.overflowX,e)||(d=>{const l=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(d);return!!l&&(l.clientHeight<d.scrollHeight||l.clientWidth<d.scrollWidth)})(t)}return!1},j=(t,e,i,d,l,o,f,r)=>o<t&&f>e||o>t&&f<e?0:o<=t&&r<=i||f>=e&&r>=i?o-t-d:f>e&&r<i||o<t&&r>i?f-e+l:0,lt=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},et=(t,e)=>{var i,d,l,o;if(typeof document>"u")return[];const{scrollMode:f,block:r,inline:h,boundary:D,skipOverflowHiddenElements:ot}=e,nt=typeof D=="function"?D:g=>g!==D;if(!$(t))throw new TypeError("Invalid target");const O=document.scrollingElement||document.documentElement,M=[];let s=t;for(;$(s)&&nt(s);){if(s=lt(s),s===O){M.push(s);break}s!=null&&s===document.body&&L(s)&&!L(document.documentElement)||s!=null&&L(s,ot)&&M.push(s)}const m=(d=(i=window.visualViewport)==null?void 0:i.width)!=null?d:innerWidth,b=(o=(l=window.visualViewport)==null?void 0:l.height)!=null?o:innerHeight,{scrollX:w,scrollY:W}=window,{height:y,width:v,top:H,right:X,bottom:Y,left:F}=t.getBoundingClientRect(),{top:K,right:P,bottom:Q,left:U}=(g=>{const n=window.getComputedStyle(g);return{top:parseFloat(n.scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0}})(t);let a=r==="start"||r==="nearest"?H-K:r==="end"?Y+Q:H+y/2-K+Q,c=h==="center"?F+v/2-U+P:h==="end"?X+P:F-U;const q=[];for(let g=0;g<M.length;g++){const n=M[g],{height:C,width:E,top:R,right:z,bottom:A,left:T}=n.getBoundingClientRect();if(f==="if-needed"&&H>=0&&F>=0&&Y<=b&&X<=m&&(n===O&&!L(n)||H>=R&&Y<=A&&F>=T&&X<=z))return q;const k=getComputedStyle(n),B=parseInt(k.borderLeftWidth,10),x=parseInt(k.borderTopWidth,10),I=parseInt(k.borderRightWidth,10),N=parseInt(k.borderBottomWidth,10);let u=0,p=0;const S="offsetWidth"in n?n.offsetWidth-n.clientWidth-B-I:0,V="offsetHeight"in n?n.offsetHeight-n.clientHeight-x-N:0,G="offsetWidth"in n?n.offsetWidth===0?0:E/n.offsetWidth:0,J="offsetHeight"in n?n.offsetHeight===0?0:C/n.offsetHeight:0;if(O===n)u=r==="start"?a:r==="end"?a-b:r==="nearest"?j(W,W+b,b,x,N,W+a,W+a+y,y):a-b/2,p=h==="start"?c:h==="center"?c-m/2:h==="end"?c-m:j(w,w+m,m,B,I,w+c,w+c+v,v),u=Math.max(0,u+W),p=Math.max(0,p+w);else{u=r==="start"?a-R-x:r==="end"?a-A+N+V:r==="nearest"?j(R,A,C,x,N+V,a,a+y,y):a-(R+C/2)+V/2,p=h==="start"?c-T-B:h==="center"?c-(T+E/2)+S/2:h==="end"?c-z+I+S:j(T,z,E,B,I+S,c,c+v,v);const{scrollLeft:Z,scrollTop:_}=n;u=J===0?0:Math.max(0,Math.min(_+u/J,n.scrollHeight-C/J+V)),p=G===0?0:Math.max(0,Math.min(Z+p/G,n.scrollWidth-E/G+S)),a+=_-u,c+=Z-p}q.push({el:n,top:u,left:p})}return q},rt=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function it(t,e){if(!t.isConnected||!(l=>{let o=l;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const i=(l=>{const o=window.getComputedStyle(l);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((l=>typeof l=="object"&&typeof l.behavior=="function")(e))return e.behavior(et(t,e));const d=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:l,top:o,left:f}of et(t,rt(e))){const r=o-i.top+i.bottom,h=f-i.left+i.right;l.scroll({top:r,left:h,behavior:d})}}export{it as default};
